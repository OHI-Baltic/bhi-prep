---
title: "Livelihoods and Economies (LE) - Livelihoods (LIV) Subgoal Data Preparation"
output:
  html_document:
    toc: true
    toc_depth: 3
    code_folding: hide
---

```{r liv prep preamble, include = FALSE}
loc <- here::here("prep", "LIV")

source(here::here("R", "setup.R"))
knitr::opts_chunk$set(message = FALSE, warning = FALSE, results = "hide")

bkgd_path <- here::here("supplement", "goal_summaries", "LIV.Rmd")
data_path <- here::here("data", "LIV", version_year, "LIV_data.rmd")
refs_path <- file.path(loc, "liv_references.Rmd")
# file.exists(c(loc, bkgd_path, data_path, refs_path))
```

## 1. Background

```{r liv prep background, child = bkgd_path, results = "asis", echo = FALSE}
```

<br/>

## 2. Data

This prep document is used to generate and explore the following data layers:

- `le_liv_regional_employ_bhi2019.csv` 
- `le_liv_national_employ_bhi2019.csv` 

These are saved to the `layers` folder. Saved to `data/LIV/v2019/intermediate` are intermediate datasets: `rgn_coastalpop_bhi2019.csv` and `DATASETINTEMED2.csv`. All these are derived from or informed by the raw datasets from Eurostat employment rates and population change, and population densities from the [HYDE database](https://themasites.pbl.nl/tridion/en/themasites/hyde/).

<br>

```{r liv data, child = data_path, results = "asis", echo = FALSE}
```

<br/>

## 3. Prep: Wrangling & Derivations, Checks/Evaluation, Gapfilling

### 3.1 Goal Model



### 3.2 

<br/>

## 4. Visualizing Data Layers {-}

<br/>



## 5. Considerations for `BHI3.0` {-}

Use [Eurostat API for Administrative Units](https://ec.europa.eu/eurostat/web/gisco/geodata/reference-data/administrative-units-statistical-units) and [R package 'eurostat: Tools for Eurostat Open Data'](https://cran.r-project.org/web/packages/eurostat/index.html)

<!---
### Considerations for BHI 2.0

Regions 19, 22 , 30, and 33 have NA status and trend. 
Russian regions have NA status because no regional data (19,22,33)
Regions with no coast line have no status because not joined to a NUTS region (30)
--->

## 6. References

```{r References, child = refs_path, results = "asis", echo = FALSE}
```
